<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <title>An Thang Camera : e-commerce</title>
        <meta name="deh:outputScription" content=""/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="robots" content="all,follow"/>
        <!-- Bootstrap CSS-->
        <h:outputStylesheet name="vendor/bootstrap/css/bootstrap.min.css"/>
        <!-- Font Awesome CSS-->
        <h:outputStylesheet name="vendor/font-awesome/css/font-awesome.min.css"/>
        <!-- Google fonts - Roboto -->

        <!-- owl carousel-->
        <h:outputStylesheet name="vendor/owl.carousel/assets/owl.carousel.css"/>
        <h:outputStylesheet name="vendor/owl.carousel/assets/owl.theme.default.css"/>
        <!-- theme stylesheet-->
        <h:outputStylesheet name="css/style.default.css" id="theme-stylesheet"/>
        <!-- Custom stylesheet - for your changes-->
        <h:outputStylesheet name="css/custom.css"/>


    </h:head>

    <h:body>

        <header class="header mb-5">
            <!--
            *** TOPBAR ***
            _________________________________________________________
            -->
            <h:form id="topbarform" prependId="false">
                <div id="top">
                    <div class="container">
                        <div class="row">
                            <c:if test="${member==null}">
                                <div><a>Wellcome to An Thang camera store</a></div>
                                <div class="col-lg-6 text-center text-lg-right">
                                    <ul class="menu list-inline mb-0">
                                        <li class="list-inline-item"><a href="#" data-toggle="modal" data-target="#login-modal">Login</a></li>
                                        <li class="list-inline-item"><h:commandLink id="btnRegister" action="#{customerController.navResgiter()}">Register</h:commandLink></li>
                                        <li class="list-inline-item"><a href="contact.xhtml">Contact</a></li>
                                    </ul>
                                </div>
                            </c:if>
                            <c:if test="${member!=null}">
                                <div><a>Wellcome <h:commandLink action="#{login.accountViewNav()}" value="#{member.ctmEmail}"/> </a><a>to An Thang camera store</a></div>
                                
                                <div class="col-lg-6 text-center text-lg-right">
                                    <ul class="menu list-inline mb-0">
                                        <li class="list-inline-item"><h:commandLink action="#{login.logout()}">Logout</h:commandLink></li>
                                        <li class="list-inline-item"><h:commandLink id="btnRegister" action="#{customerController.navResgiter()}">Register</h:commandLink></li>
                                        <li class="list-inline-item"><a href="contact.xhtml">Contact</a></li>
                                    </ul>
                                </div>
                            </c:if>
                        </div>
                    </div>
                </div><!-- *** TOP BAR END ***-->
            </h:form>

            <h:form id="navbarform" prependId="false"> 
                <nav class="navbar navbar-expand-lg">

                    <div class="container">

                        <a href="index.xhtml" class="navbar-brand home">
                            <h:graphicImage name="img/logo1.png" alt="Obaju logo" class="d-none d-md-inline-block"/>
                            <h:graphicImage name="img/logo-small.png" alt="Obaju logo" class="d-inline-block d-md-none"/>
                            <span class="sr-only">Obaju - go to homepage</span>
                        </a>

                        <div class="navbar-buttons">
                            <button type="button" data-toggle="collapse" data-target="#navigation" 
                                    class="btn btn-outline-secondary navbar-toggler">
                                <span class="sr-only">Toggle navigation</span>
                                <i class="fa fa-align-justify"></i>
                            </button>
                            <button type="button" data-toggle="collapse" data-target="#search" 
                                    class="btn btn-outline-secondary navbar-toggler">
                                <span class="sr-only">Toggle search</span>
                                <i class="fa fa-search"></i>
                            </button>
                            <h:link outcome="orderBasket" class="btn btn-outline-secondary navbar-toggler">
                                <i class="fa fa-shopping-cart"></i>
                            </h:link>
                        </div>

                        <div id="navigation" class="collapse navbar-collapse">
                            <ul class="navbar-nav mr-auto">
                                <li class="nav-item"><a href="index.xhtml" class="nav-link">Home</a></li>

                                <li class="nav-item dropdown menu-large">
                                    <a href="#" data-toggle="dropdown" data-hover="dropdown" 
                                       data-delay="200" class="dropdown-toggle nav-link">Product<b class="caret"></b></a>
                                    <ul class="dropdown-menu megamenu">
                                        <li>
                                            <div class="row">
                                                <c:forEach items="#{aCategoryMB.categoryType}" var="type">
                                                    <div class="col-md-6 col-lg-3">
                                                        <h5>#{type}</h5>
                                                        <ul class="list-unstyled mb-3">

                                                            <c:forEach items="#{aCategoryMB.getCategoryTitle(type)}" var="title">
                                                                <li class="nav-item"><h:commandLink action="#{productController.productclient(title)}" class="nav-link">#{title.ctgTitle}</h:commandLink></li>
                                                            </c:forEach>

                                                        </ul>
                                                    </div>
                                                </c:forEach>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>

                            <div class="navbar-buttons d-flex justify-content-end">
                                <!-- /.nav-collapse-->
                                <div id="search-not-mobile" class="navbar-collapse collapse"></div><a data-toggle="collapse" href="#search" class="btn navbar-btn btn-primary d-none d-lg-inline-block"><span class="sr-only">Toggle search</span><i class="fa fa-search"></i></a>
                                <div id="basket-overview" class="navbar-collapse collapse d-none d-lg-block">
                                    <h:link outcome="orderBasket" class="btn btn-primary navbar-btn">
                                        <i class="fa fa-shopping-cart"></i>
                                        <span>
                                            <h:outputText id="cartSize" value="#{orderController.cart.size()}"/> items in cart
                                        </span>
                                    </h:link>
                                </div>
                            </div>
                        </div>

                    </div>
                </nav>
            </h:form>

            <h:form id="searchbarform" prependId="false">
                <div id="search" class="collapse">
                    <div class="container">
                        <div role="search" class="ml-auto">
                            <div class="input-group">
                                <input type="text" placeholder="Search" class="form-control"/>
                                <div class="input-group-append">
                                    <button type="button" class="btn btn-primary"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>
        </header>

        <ui:insert name="content">
            Content
        </ui:insert>
        <!--
                                    *** FOOTER ***
                                    _________________________________________________________
        -->
        <div id="footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <h3><i class="fa fa-map-marker"></i>Address</h3>
                        <p>872 Ta Quang Buu<br/>District 5<br/>Ho Chi Minh<br/>Viet Nam<br/><strong>An Thang Camera Store</strong></p>
                    </div>
                    <!-- /.col-lg-3-->

                    <!-- /.col-lg-3-->
                </div>
                <!-- /.row-->
            </div>
            <!-- /.container-->
        </div>
        <!-- /#footer-->
        <!-- *** FOOTER END ***-->


        <!--
        *** COPYRIGHT ***
        _________________________________________________________
        -->
        <div id="copyright">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 mb-2 mb-lg-0">
                        <p class="text-center text-lg-left">©2019 Your name goes here.</p>
                    </div>
                    <div class="col-lg-6">
                        <p class="text-center text-lg-right">Template design by <a href="https://bootstrapious.com/p/big-bootstrap-tutorial">Bootstrapious</a>
                            <!-- If you want to remove this backlink, pls purchase an Attribution-free License @ https://bootstrapious.com/p/obaju-e-commerce-template. Big thanks!-->
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- *** COPYRIGHT END ***-->

        <!-- Login modal -->
        <div id="login-modal" tabindex="-1" role="dialog" aria-labelledby="Login" aria-hidden="true" class="modal fade">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Customer login</h5>
                        <button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">×</span></button>
                    </div>
                    <div class="modal-body">
                        <h:form>
                             
                            <div class="form-group">
                                <h:inputText id="email-modal" title="email" class="form-control" value="#{login.email}"  styleClass="form-control"/>
                            </div>
                            <div class="form-group">
                                <h:inputSecret id="password-modal" title="password" value="#{login.password}"  styleClass="form-control"/>
                            </div>
                            <p class="text-center">
                                <h:commandLink styleClass="btn btn-primary" action="#{login.login()}"><i class="fa fa-sign-in"></i> Log in</h:commandLink>
                            </p>
                        </h:form>
                        <p class="text-center text-muted">Not registered yet?</p>
                        <p class="text-center text-muted"><a href="register.xhtml"><strong>Register now</strong></a>! It is easy and done in 1 minute and gives you access to special discounts and much more!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- JavaScript files-->
        <h:outputScript name="vendor/jquery/jquery.min.js"></h:outputScript>
        <h:outputScript name="vendor/bootstrap/js/bootstrap.bundle.min.js"></h:outputScript>
        <h:outputScript name="vendor/jquery.cookie/jquery.cookie.js"> </h:outputScript>
        <h:outputScript name="vendor/owl.carousel/owl.carousel.min.js"></h:outputScript>
        <h:outputScript name="vendor/owl.carousel2.thumbs/owl.carousel2.thumbs.js"></h:outputScript>
        <h:outputScript name="js/front.js"></h:outputScript>
    </h:body>

</html>
